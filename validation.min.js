!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.validation=t()}(this,function(){"use strict";var e={required:{message:"Required",method:function(e){if("checkbox"===e.type)return e.checked;if("radio"===e.type){var t=e.name;return e.parentNode.querySelectorAll("input[name="+t+"]:checked").length>0}return""!==e.value}},email:{message:"E-mail is wrong",method:function(e){return""===e.value||/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value)}}},t=["change","paste","blur","keyup"],i=function(t){return t.getAttribute("data-validate").split(",").map(function(e){return e.trim()}).filter(function(i){return!e[i].method(t)}).map(function(t){return e[t].message}).join(", ")},n=function(e){var t=e.target;if(t.matches(".validate")){var n=i(t);t.classList.toggle("validate-error",!!n);var r=t.previousElementSibling;if(n){if(!r||!r.matches(".validate-popup")){(r=document.createElement("div")).classList.add("validate-popup");var a=document.createElement("div");a.appendChild(r.cloneNode(!0)),t.insertAdjacentHTML("beforebegin",a.innerHTML),r=t.previousElementSibling}r.innerHTML=n,window.setTimeout(function(){var e=t.clientWidth<r.clientWidth?t.offsetLeft+t.offsetWidth/2-14:t.offsetLeft+t.clientWidth-r.clientWidth+1,i=t.offsetTop;r.style.left=e+"px",r.style.top=i+"px",r.style.marginTop=-(r.clientHeight+8)+"px",r.classList.toggle("active",!0)},0)}else r&&r.classList.toggle("active",!1)}},r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"body";return"string"==typeof e?document.querySelector(e):e},a=function(e){var t=e.target;if(t.matches(".validate-popup")){var i=t.nextElementSibling;i.matches(".validate")&&i.classList.toggle("validate-error",!1),t.classList.toggle("active",!1)}},o=function(e){return!!c.validate(e.target)||(e.preventDefault(),!1)},l=function(e,i){e=r(e);var l=i?"addEventListener":"removeEventListener",c=e.querySelectorAll(".validate");Array.prototype.forEach.call(c,function(e){t.forEach(function(t){e[l](t,n)})}),document[l]("click",a),"FORM"===e.nodeName&&e[l]("submit",o)},c={init:function(e){l(e,!0)},destroy:function(e){c.hide(e),l(e,!1)},hide:function(e){var t=(e=r(e)).querySelectorAll(".validate-popup");Array.prototype.forEach.call(t,function(e){e.classList.toggle("active",!1);var t=e.nextElementSibling;t.matches(".validate")&&t.classList.toggle("validate-error",!1)})},highlight:function(e){var t=(e=r(e)).querySelectorAll(".validate");Array.prototype.forEach.call(t,function(e){var t=document.createEvent("HTMLEvents");t.initEvent("blur",!0,!1),e.dispatchEvent(t)})},isValid:function(e){var t=(e=r(e)).querySelectorAll(".validate"),n=Array.prototype.every.call(t,function(e){return!i(e)});return n},validate:function(e){return c.highlight(e),c.isValid(e)},getRules:function(){return e}};return c});
